receivers:
  otlp/app:
    protocols:
      grpc:
      http:
processors:
  resource/loki:
    attributes:
      - action: insert
        key: loki.resource.labels
        value: service.name, service.version
  attributes/loki:
    actions:
      - action: insert
        key: loki.attribute.labels
        value: roll
exporters:
  loki:
    endpoint: ${env:LOGS_ENDPOINT}
    auth:
      authenticator: basicauth/logs
extensions:
  basicauth/logs:
    client_auth:
      username: "${env:LOGS_USERNAME}"
      password: "${env:LOGS_PWD}"
service:
  extensions: [basicauth/logs]
  pipelines:
    logs/gc:
      receivers:
        - otlp/app
      processors: [resource/loki, attributes/loki]
      exporters: [loki]